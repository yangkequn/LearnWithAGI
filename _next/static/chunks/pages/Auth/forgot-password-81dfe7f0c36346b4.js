(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1835],{1937:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Auth/forgot-password",function(){return n(5725)}])},1085:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthContext:function(){return l},default:function(){return a}});var r=n(5893),o=n(7294),s=n(1138);let l=o.createContext({nickname:"",setNickname:()=>{},nicknameError:"",countryCode:"86",setCountryCode:()=>{},countryCodeError:"",phone:"",setPhone:()=>{},phoneError:"",setPhoneError:()=>{},account:"",setAccount:()=>{},accountError:"",setAccountError:()=>{},password:"",setPassword:()=>{},passwordError:"",setPasswordError:()=>{},foreignPhone:!1,setForeignPhone:()=>{},SMSCode:null,setSMSCode:()=>{},SMSCodeError:null,setSMSCodeError:()=>{},SMSButtonText:"获取校验码",SMSButtonDisabled:!1,SendSMSCode:()=>{},checkSMSCode:()=>{},CheckPassword:()=>{},checkAccount:()=>{},checkPhone:()=>{},checkCountryCode:()=>{},CheckNickName:()=>{}});function a(e){let{children:t}=e,[n,a]=(0,o.useState)(""),[u,i]=(0,o.useState)(""),[c,d]=(0,o.useState)("86"),[h,f]=(0,o.useState)(""),x=()=>{let e="";return(!c||isNaN(c))&&(e="无效国家，重新选择"),f(e),!e},[w,S]=(0,o.useState)(""),[g,C]=(0,o.useState)(""),[m,p]=(0,o.useState)(null),[P,A]=(0,o.useState)(null),[b,N]=(0,o.useState)("获取校验码"),[v,j]=(0,o.useState)(!1),k=e=>{e>0?(N("已发送, "+e+" ..."),setTimeout(()=>k(e-1),1e3),j(!0)):(N("重新获取"),j(!1))},[y,E]=(0,o.useState)(""),[T,M]=(0,o.useState)(""),_=e=>!0===e&&M("该账号已经注册"),[F,L]=(0,o.useState)(""),[R,I]=(0,o.useState)(""),[U,z]=(0,o.useState)(!1);return(0,r.jsx)(l.Provider,{value:{nickname:n,setNickname:a,nicknameError:u,countryCode:c,setCountryCode:d,countryCodeError:h,phone:w,setPhone:S,phoneError:g,setPhoneError:C,account:y,setAccount:E,accountError:T,setAccountError:M,password:F,setPassword:L,passwordError:R,setPasswordError:I,foreignPhone:U,setForeignPhone:z,SMSCode:m,setSMSCode:p,SMSCodeError:P,setSMSCodeError:A,SMSButtonText:b,SMSButtonDisabled:v,SendSMSCode:e=>{e()&&(k(60),(0,s.bl)("userSendSMSCode",{countryCode:c,phone:w}))},checkSMSCode:()=>{let e="";return"none"===m?e="请填写校验码":6!==m.length&&(e="校验码为六位"),A(e),!e},CheckPassword:()=>{let e="";return F||(e="密码必须填写"),(F.length<8||F.length>32)&&(e="密码8-32位"),I(e),!e},checkAccount:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t="";return y||(t="账号必须填写"),(y.length<6||y.length>32)&&(t="账号6-32位"),M(t),!t&&e&&(0,s.Jp)("UserRootAccount",y).then(_).catch(e=>null),!t},checkPhone:()=>{let e="";if(w||(e="常用手机号必填"),w.length>=7&&w.length<=13?w.match(/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im)||(e="不是完整有效手机号码"):e="手机号码7-13位",C(e),!e&&x()){var t=w;"086"===c||"86"===c||(t="86"+t),(0,s.Jp)("UserRootAccount",t).then(e=>!0===e&&C("该账号已经注册")).catch(e=>null)}return!e},checkCountryCode:x,CheckNickName:()=>{let e="";if(n){let t=n.length;(t>32||t<5)&&(e="昵称 5-32字符")}else e="昵称不能为空";return i(e),!e}},children:t})}},6248:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthContainerCSS:function(){return o},AuthContainerCSSL2:function(){return s},AuthInputContainerCss:function(){return l},AuthPages:function(){return u},AuthSingleLineInputCss:function(){return a},default:function(){return i}});var r=n(5893);n(7294);let o="flex flex-col w-full max-w-3xl h-90 bg-cyan-900 items-center",s="flex flex-col w-full bg-white text-black px-8 pt-8 text-lg mb-8",l="flex flex-row w-full justify-between md-4",a=" mx-4 w-90",u={SignUp:"SignUp",ForgotPassword:"ForgotPassword",Login:"Login"};function i(){return(0,r.jsx)("div",{})}},5725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(5893),o=n(7294),s=n(6248),l=n(1085),a=n(342),u=n(8271),i=n(1138),c=n(9332);let d=e=>{let t={Title:["Reset Password","找回密码"],Annotation:["Check code will sent to e-mailbox or phone","验证码将会发送至邮箱或手机"],CountryCodeTitle:["US +","美国 +"],AccountTitle:["Type Account Here","输入手机号/邮箱"],ForeignPhoneMode:["Foreign phone Reset Password","海外手机号找回"],ForgotPassword:["Forgot password","忘记密码?"],MailAccountLogin:["Login with phone or email","邮箱帐号登录"],CountryCode:[1,86],PhoneNumberTitle:["phone Number","请输入手机号"],AccountPasswordError:["Error account or password ","账号或密码错误"],PhoneBadFormat:["phone number invalid","输入有效的手机号码"],PasswordTitle:["Password","请输人新的密码"],VerifyCodeTitle:["SMS verification code","输入校验码"],PasswordBadFormat:["password too short","密码太短"],ResetTitle:["Reset password","重置密码"],WithoutAnAccount:["Don't have an account yet?","没有账号？"],Signup:["Sign up","注册"],Footer:["Together, life is bigger"," "]},n={};return Object.keys(t).map((r,o)=>n[r]=t[r][e]),n};function h(e){let{To:t}=e,n=(0,c.useRouter)(),h=d(1),{countryCode:f,setCountryCode:x,countryCodeError:w,phone:S,setPhone:g,phoneError:C,account:m,setAccount:p,accountError:P,password:A,setPassword:b,passwordError:N,foreignPhone:v,setForeignPhone:j,SMSCode:k,setSMSCode:y,SMSCodeError:E,SMSButtonText:T,SMSButtonDisabled:M,checkAccount:_,CheckPassword:F,checkCountryCode:L,checkPhone:R,checkSMSCode:I,SendSMSCode:U}=(0,o.useContext)(l.AuthContext);(0,o.useEffect)(()=>{m&&_()},[m]),(0,o.useEffect)(()=>{A&&F()},[A]),(0,o.useEffect)(()=>{f&&L()},[f]),(0,o.useEffect)(()=>{S&&R()},[S]),(0,o.useEffect)(()=>{k&&I()},[k]);let z=e=>{let t=v&&L()&&R()&&F();t||(t=!v&&_()&&F()),t&&(I(),(0,i.bl)("userResetPassword",{countryCode:f,phone:S,SMSCode:k,password:A}).then(e=>{}))};return(0,r.jsxs)("div",{className:s.AuthContainerCSS,children:[(0,r.jsxs)("div",{className:s.AuthContainerCSSL2,children:[(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"flex flex-row self-start w-full",children:(0,r.jsxs)("h2",{children:[" ",h.Title," "]})}),(0,r.jsx)("div",{className:"flex flex-row self-start w-full text-gray-600 mb-4 text-sm",children:h.Annotation})]}),v?(0,r.jsxs)("div",{className:"flex flex-row self-start w-full  mx-4 w-90",children:[(0,r.jsx)(a.default,{width:"250px",disableCloseOnSelect:!0,defaultValue:"CN",setCountryCode:x,countryCodeError:w,children:" "},"forgotPassword_CountrySelect_".concat(v)),(0,r.jsx)(u.Z,{label:h.PhoneNumberTitle,size:"small",helperText:C,variant:"standard",error:!!C,onChange:e=>g(e.target.value),style:{width:"70%"}},"forgotPassword-phone")]}):(0,r.jsx)(u.Z,{label:h.AccountTitle,size:"small",className:s.AuthSingleLineInputCss,variant:"standard",helperText:P,error:!!P,onChange:e=>p(e.target.value)},"forgotPassword-phone"),(0,r.jsx)(u.Z,{label:h.PasswordTitle,size:"small",type:"password",variant:"standard",helperText:N,className:s.AuthSingleLineInputCss,error:!!N,onChange:e=>b(e.target.value)},"forgotPassword-password"),(0,r.jsxs)("div",{className:s.AuthInputContainerCss,children:[(0,r.jsx)(u.Z,{type:"text",label:h.VerifyCodeTitle,size:"small",helperText:E,variant:"standard",className:s.AuthSingleLineInputCss,onChange:e=>y(e.target.value),error:!!E,fullWidth:!0},"forgotPassword-SMS"),(0,r.jsxs)("button",{onClick:e=>U(()=>v?v?L()&&R():void 0:_()),style:{width:200},disabled:M,children:[T," "]})]},"input-SMS-code"),(0,r.jsx)("div",{className:"flex flex-row self-start w-full mx-2",children:(0,r.jsx)("button",{onClick:e=>{j(!v),x(v?"1":"86"),v?p(""):g("")},children:v?h.MailAccountLogin:h.ForeignPhoneMode})},"user_foreign_phone"),(0,r.jsxs)("div",{className:"w-full flex flex-row justify-between self-center items-center mb-4",children:[(0,r.jsxs)("button",{className:"flex flex-row w-40 leading-6 h-9 bg-sky-500 justify-center text-white rounded mx-4 w-90 items-center",onClick:e=>z(e),children:[h.ResetTitle," "]},"login-button"),(0,r.jsxs)("div",{className:"flex flex-row self-center items-center",children:[(0,r.jsx)("div",{className:"flex flex-row self-center items-center",children:h.WithoutAnAccount}),(0,r.jsx)("button",{className:"flex flex-row w-40 leading-6 h-9 bg-sky-500 justify-center text-white rounded mx-4 items-center",onClick:e=>n.push("/Auth?page=".concat(s.AuthPages.SignUp,"&to=").concat(t)),children:h.Signup})]})]})]}),(0,r.jsx)("div",{className:"footer",children:h.Footer})]})}}},function(e){e.O(0,[9288,361,6057,2601,7910,1412,6758,986,342,9774,2888,179],function(){return e(e.s=1937)}),_N_E=e.O()}]);