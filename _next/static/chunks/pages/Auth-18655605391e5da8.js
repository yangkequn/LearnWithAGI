(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3984],{4258:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Auth",function(){return s(3797)}])},5725:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(5893),n=s(7294),o=s(6248),l=s(1085),a=s(342),i=s(8271),c=s(1138),u=s(9332);let d=e=>{let t={Title:["Reset Password","找回密码"],Annotation:["Check code will sent to e-mailbox or phone","验证码将会发送至邮箱或手机"],CountryCodeTitle:["US +","美国 +"],AccountTitle:["Type Account Here","输入手机号/邮箱"],ForeignPhoneMode:["Foreign phone Reset Password","海外手机号找回"],ForgotPassword:["Forgot password","忘记密码?"],MailAccountLogin:["Login with phone or email","邮箱帐号登录"],CountryCode:[1,86],PhoneNumberTitle:["phone Number","请输入手机号"],AccountPasswordError:["Error account or password ","账号或密码错误"],PhoneBadFormat:["phone number invalid","输入有效的手机号码"],PasswordTitle:["Password","请输人新的密码"],VerifyCodeTitle:["SMS verification code","输入校验码"],PasswordBadFormat:["password too short","密码太短"],ResetTitle:["Reset password","重置密码"],WithoutAnAccount:["Don't have an account yet?","没有账号？"],Signup:["Sign up","注册"],Footer:["Together, life is bigger"," "]},s={};return Object.keys(t).map((r,n)=>s[r]=t[r][e]),s};function h(e){let{To:t}=e,s=(0,u.useRouter)(),h=d(1),{countryCode:f,setCountryCode:x,countryCodeError:g,phone:w,setPhone:m,phoneError:p,account:C,setAccount:j,accountError:v,password:A,setPassword:b,passwordError:P,foreignPhone:N,setForeignPhone:S,SMSCode:y,setSMSCode:T,SMSCodeError:E,SMSButtonText:k,SMSButtonDisabled:F,checkAccount:_,CheckPassword:L,checkCountryCode:R,checkPhone:Z,checkSMSCode:M,SendSMSCode:O}=(0,n.useContext)(l.AuthContext);(0,n.useEffect)(()=>{C&&_()},[C]),(0,n.useEffect)(()=>{A&&L()},[A]),(0,n.useEffect)(()=>{f&&R()},[f]),(0,n.useEffect)(()=>{w&&Z()},[w]),(0,n.useEffect)(()=>{y&&M()},[y]);let I=e=>{let t=N&&R()&&Z()&&L();t||(t=!N&&_()&&L()),t&&(M(),(0,c.bl)("userResetPassword",{countryCode:f,phone:w,SMSCode:y,password:A}).then(e=>{}))};return(0,r.jsxs)("div",{className:o.AuthContainerCSS,children:[(0,r.jsxs)("div",{className:o.AuthContainerCSSL2,children:[(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"flex flex-row self-start w-full",children:(0,r.jsxs)("h2",{children:[" ",h.Title," "]})}),(0,r.jsx)("div",{className:"flex flex-row self-start w-full text-gray-600 mb-4 text-sm",children:h.Annotation})]}),N?(0,r.jsxs)("div",{className:"flex flex-row self-start w-full  mx-4 w-90",children:[(0,r.jsx)(a.default,{width:"250px",disableCloseOnSelect:!0,defaultValue:"CN",setCountryCode:x,countryCodeError:g,children:" "},"forgotPassword_CountrySelect_".concat(N)),(0,r.jsx)(i.Z,{label:h.PhoneNumberTitle,size:"small",helperText:p,variant:"standard",error:!!p,onChange:e=>m(e.target.value),style:{width:"70%"}},"forgotPassword-phone")]}):(0,r.jsx)(i.Z,{label:h.AccountTitle,size:"small",className:o.AuthSingleLineInputCss,variant:"standard",helperText:v,error:!!v,onChange:e=>j(e.target.value)},"forgotPassword-phone"),(0,r.jsx)(i.Z,{label:h.PasswordTitle,size:"small",type:"password",variant:"standard",helperText:P,className:o.AuthSingleLineInputCss,error:!!P,onChange:e=>b(e.target.value)},"forgotPassword-password"),(0,r.jsxs)("div",{className:o.AuthInputContainerCss,children:[(0,r.jsx)(i.Z,{type:"text",label:h.VerifyCodeTitle,size:"small",helperText:E,variant:"standard",className:o.AuthSingleLineInputCss,onChange:e=>T(e.target.value),error:!!E,fullWidth:!0},"forgotPassword-SMS"),(0,r.jsxs)("button",{onClick:e=>O(()=>N?N?R()&&Z():void 0:_()),style:{width:200},disabled:F,children:[k," "]})]},"input-SMS-code"),(0,r.jsx)("div",{className:"flex flex-row self-start w-full mx-2",children:(0,r.jsx)("button",{onClick:e=>{S(!N),x(N?"1":"86"),N?j(""):m("")},children:N?h.MailAccountLogin:h.ForeignPhoneMode})},"user_foreign_phone"),(0,r.jsxs)("div",{className:"w-full flex flex-row justify-between self-center items-center mb-4",children:[(0,r.jsxs)("button",{className:"flex flex-row w-40 leading-6 h-9 bg-sky-500 justify-center text-white rounded mx-4 w-90 items-center",onClick:e=>I(e),children:[h.ResetTitle," "]},"login-button"),(0,r.jsxs)("div",{className:"flex flex-row self-center items-center",children:[(0,r.jsx)("div",{className:"flex flex-row self-center items-center",children:h.WithoutAnAccount}),(0,r.jsx)("button",{className:"flex flex-row w-40 leading-6 h-9 bg-sky-500 justify-center text-white rounded mx-4 items-center",onClick:e=>s.push("/Auth?page=".concat(o.AuthPages.SignUp,"&to=").concat(t)),children:h.Signup})]})]})]}),(0,r.jsx)("div",{className:"footer",children:h.Footer})]})}},3797:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(5893),n=s(7294),o=s(1813),l=s(3210),a=s(5725),i=s(1085),c=s(9036),u=s(4178),d=s(9332),h=s(6248);let f=()=>{let{Params:e,LoggedIn:t,setMenuL2:s}=(0,n.useContext)(u.GlobalContext),{page:i,to:c}=e,f=(0,d.useRouter)();return(0,n.useEffect)(()=>{s((0,r.jsx)("div",{})),t&&(i===h.AuthPages.Login||i===h.AuthPages.SignUp)&&f.push(c)},[t]),(0,r.jsxs)("div",{className:"flex flex-row items-start self-center justify-center w-full h-full mt-4 ",children:[i===h.AuthPages.SignUp&&(0,r.jsx)(l.default,{To:c}),i===h.AuthPages.ForgotPassword&&(0,r.jsx)(a.default,{To:c}),i===h.AuthPages.Login&&(0,r.jsx)(o.default,{To:c})]})};function x(e){let{AuthPage:t,To:s}=e;return(0,r.jsx)(i.default,{children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(f,{})})})}},1813:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(5893),n=s(7294),o=s(8271),l=s(6901),a=s(7922),i=s(3321),c=s(5582),u=s(6248),d=s(342),h=s(1085),f=s(1138),x=s(9443),g=s(6426),w=s(9332),m=s(4178);function p(e){let{To:t}=e,s=(0,w.useRouter)(),p=(e=>{let t={Title:["Login","账号登录"][e],CountryCodeTitle:["US +","美国 +"][e],AccountTitle:["Type Account Here","手机号/账号"][e],ForeignPhoneMode:["Foreign phone login","海外手机号登录"][e],ForgotPassword:["Forgot password","忘记密码?"][e],MailAccountLogin:["Login with phone or email","邮箱帐号登录"][e],CountryCode:[1,86][e],PhoneNumberTitle:["phone Number","请输入手机号"][e],AccountPasswordError:["Error account or password ","账号或密码错误"][e],PhoneBadFormat:["phone number invalid","输入有效的手机号码"],PasswordTitle:["Password","登录密码"][e],PasswordBadFormat:["password too short","密码太短"][e],LoginTitle:["Login","登录"][e],WithoutAnAccount:["Don't have an account yet?","没有账号？"][e],Signup:["Sign up","注册"][e],Footer:["Together, life is bigger","在一起，生命更放大"][e]};return t})(1),{countryCode:C,setCountryCode:j,countryCodeError:v,phone:A,setPhone:b,phoneError:P,account:N,setAccount:S,accountError:y,setAccountError:T,password:E,setPassword:k,passwordError:F,foreignPhone:_,setForeignPhone:L,checkCountryCode:R,checkPhone:Z,checkAccount:M,CheckPassword:O}=(0,n.useContext)(h.AuthContext),{openAlert:I,setOpenAlert:U}=(0,n.useContext)(m.GlobalContext);(0,n.useEffect)(()=>{C&&R()},[C]),(0,n.useEffect)(()=>{A&&Z()},[A]),(0,n.useEffect)(()=>{N&&M(!1)},[N]),(0,n.useEffect)(()=>{E&&O()},[E]);let z=e=>{let t=_&&R()&&Z()&&O();if(t||(t=!_&&M(!1)&&O()),!t)return;let s={Account:N||A,Password:E,CountryCode:C,Time:new Date().getTime()};(0,f.bl)("userSignIn",s).then(e=>{if(null!=e){if("error"in e){let t=e.error;"account or password error"===t&&T(p.AccountPasswordError),U("账号或密码错误"),x.qR.SaveOrClear(e)}else x.qR.SaveOrClear(e)}})};return(0,r.jsx)("div",{className:u.AuthContainerCSS,children:(0,r.jsx)(g.rg,{clientId:"129830787781-sd5edo6nis08ohho627s3v2vk405795r.apps.googleusercontent.com",children:(0,r.jsxs)("div",{className:u.AuthContainerCSSL2,children:[(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsxs)("h2",{children:[" ",p.Title," "]})}),(0,r.jsx)(a.Z,{in:!!I,children:(0,r.jsx)(l.Z,{severity:"info",children:I})}),(0,r.jsxs)("div",{className:"w-full flex flex-col",children:[_&&(0,r.jsxs)("div",{className:"flex flex-row self-start w-full ",style:{display:_?"flex":"none"},children:[(0,r.jsx)(d.default,{width:"150px",disableCloseOnSelect:!0,defaultValue:"CN",setCountryCode:j,countryCodeError:v,children:" "}),(0,r.jsx)(o.Z,{id:"signUp-phone",label:P||p.PhoneNumberTitle,size:"small",variant:"standard",error:!!P,onChange:e=>b(e.target.value),style:{width:"70%"}})]}),!_&&(0,r.jsx)(o.Z,{id:"login-phone",label:y||p.AccountTitle,size:"small",variant:"standard",className:u.AuthSingleLineInputCss,error:!!y,onChange:e=>S(e.target.value)}),(0,r.jsx)(o.Z,{id:"login-password",label:F||p.PasswordTitle,size:"small",type:"password",variant:"standard",className:u.AuthSingleLineInputCss,error:!!F,onChange:e=>k(e.target.value)}),(0,r.jsxs)(c.Z,{className:"flex flex-row self-start w-full justify-between",sx:{color:"#25a",margin:"1.3em 0 1.0em 0"},children:[(0,r.jsx)(i.Z,{onClick:e=>{let t=!_;j(t?"1":"86"),t?S(""):b(""),L(!_)},children:_?p.MailAccountLogin:p.ForeignPhoneMode}),(0,r.jsx)("div",{onClick:e=>s.push("/Auth?page=".concat(u.AuthPages.ForgotPassword,"&to=").concat(t)),style:{color:"#8590a6"},children:p.ForgotPassword},"user_forgot_password")]},"user_foreign_phone"),(0,r.jsxs)("div",{className:"w-full flex flex-row justify-between mb-4",children:[(0,r.jsx)("button",{className:"flex leading-6 text-sm w-40 h-9 bg-sky-500 justify-center text-white rounded items-center mx-4",onClick:e=>z(e),children:p.LoginTitle},"login-button"),(0,r.jsxs)("div",{className:"flex flex-row items-center mx-4 w-90 w-fit",children:[(0,r.jsx)("div",{children:p.WithoutAnAccount}),(0,r.jsx)("button",{className:"flex leading-6 text-sm w-32 h-9 bg-sky-500 justify-center text-white rounded items-center mx-4",onClick:e=>s.push("/Auth?page=".concat(u.AuthPages.SignUp,"&to=").concat(t)),children:p.Signup})]},"SignUP")]})]}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(g.kZ,{onSuccess:e=>{(0,f.bl)("userSignInGoogle",e).then(e=>{if(null!=e){if("error"in e){let t=e.error;"account or password error"===t&&T(p.AccountPasswordError),U("账号或密码错误"),x.qR.SaveOrClear(e)}else x.qR.SaveOrClear(e),s.push(t)}})},onError:()=>{},useOneTap:!0})})]})})})}}},function(e){e.O(0,[9288,361,6057,2601,7910,1019,1412,3717,6901,6758,3489,9679,9036,342,3210,9774,2888,179],function(){return e(e.s=4258)}),_N_E=e.O()}]);